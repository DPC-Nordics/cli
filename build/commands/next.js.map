{"version":3,"sources":["../components/Header.tsx","next.tsx"],"names":[],"mappings":"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","file":"next.js","sourceRoot":"../../commands","sourcesContent":["import { Newline, Text } from \"ink\";\nimport { useEffect, useLayoutEffect } from \"react\";\n\nexport default function Header({ children }: { children?: string }) {\n  return (\n    <Text>\n      <Newline />\n      <Text bold>{\"DPC Nordics CLI\"}</Text>\n      <Newline />\n      {children ? (\n        <>\n          {children}\n          <Newline />\n        </>\n      ) : null}\n    </Text>\n  );\n}\n","import { useEffect } from \"react\";\nimport { Box, useApp } from \"ink\";\nimport PropTypes from \"prop-types\";\nimport { spawn } from \"child_process\";\nimport Header from \"../components/Header\";\n\nexport default function Next({ name }: NextProps): JSX.Element {\n  useCloseRepo(name);\n\n  return (\n    <Box flexDirection=\"column\">\n      <Header>{`NextJS E-commerce project ${\n        name ? `as \"${name}\"` : \"\"\n      }`}</Header>\n    </Box>\n  );\n}\n\ninterface NextProps {\n  name?: string;\n}\n\nNext.propTypes = {\n  /// Name of the project after cloning\n  name: PropTypes.string,\n};\n\nNext.positionalArgs = [\"name\"];\n\nfunction useCloseRepo(name: string = \"dpc-next\") {\n  const { exit } = useApp();\n\n  useEffect(() => {\n    const cloneSpawn = spawn(\n      \"git\",\n      [\"clone\", \"https://github.com/DPC-Nordics/dpc-next.git\", name],\n      { stdio: \"inherit\" }\n    );\n\n    cloneSpawn.addListener(\"message\", (message) => console.log(message));\n    cloneSpawn.addListener(\"close\", (exitCode) =>\n      exit(exitCode ? new Error(\"Error occurred\") : undefined)\n    );\n\n    return () => {\n      cloneSpawn.removeAllListeners(\"message\");\n      cloneSpawn.removeAllListeners(\"close\");\n    };\n  }, [name, exit]);\n}\n"]}